[gd_scene load_steps=30 format=3 uid="uid://udrj4gpdrtl7"]

[ext_resource type="Script" path="res://scripts/player.gd" id="1_e8ulj"]
[ext_resource type="PackedScene" uid="uid://dw7n0cn7ekrb1" path="res://analog_input_viewer.tscn" id="2_8w0kq"]
[ext_resource type="Script" path="res://scripts/States/machines/PlayerStateMachine.gd" id="3_dp7qs"]
[ext_resource type="Script" path="res://scripts/States/playerStates/PlayerWeaveState.gd" id="4_2ynra"]
[ext_resource type="Script" path="res://scripts/States/playerStates/PlayerIdleState.gd" id="4_da6do"]
[ext_resource type="Script" path="res://scripts/States/playerStates/PlayerCastState.gd" id="6_2twro"]
[ext_resource type="Script" path="res://scripts/States/playerStates/PlayerStunnedState.gd" id="7_oixna"]
[ext_resource type="Script" path="res://scripts/States/playerStates/PlayerCommandState.gd" id="8_vl8hb"]
[ext_resource type="Texture2D" uid="uid://dtswr8ua6hqls" path="res://assets/NECROMANCER_IDLE.png" id="9_6htiu"]
[ext_resource type="Texture2D" uid="uid://dosru6c50jc76" path="res://assets/NECROMANCER_USE_HAND.png" id="10_407k6"]
[ext_resource type="Texture2D" uid="uid://vr1rkqtismo2" path="res://assets/NECROMANCER_HAND.png" id="11_hk861"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_jspig"]
radius = 1.088
height = 2.176

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_lqi6u"]
radius = 8.0
height = 16.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_f4isr"]
radius = 144.0
height = 570.0

[sub_resource type="AtlasTexture" id="AtlasTexture_o8blo"]
atlas = ExtResource("9_6htiu")
region = Rect2(0, 0, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_d25fl"]
atlas = ExtResource("9_6htiu")
region = Rect2(64, 0, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_4rhbc"]
atlas = ExtResource("9_6htiu")
region = Rect2(128, 0, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_c8kd1"]
atlas = ExtResource("9_6htiu")
region = Rect2(0, 98, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_so6we"]
atlas = ExtResource("9_6htiu")
region = Rect2(64, 98, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_71np0"]
atlas = ExtResource("10_407k6")
region = Rect2(0, 0, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_8ykek"]
atlas = ExtResource("10_407k6")
region = Rect2(64, 0, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_iemub"]
atlas = ExtResource("10_407k6")
region = Rect2(128, 0, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_r1kkr"]
atlas = ExtResource("10_407k6")
region = Rect2(0, 98, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_7m6r1"]
atlas = ExtResource("10_407k6")
region = Rect2(64, 98, 64, 98)

[sub_resource type="AtlasTexture" id="AtlasTexture_gka40"]
atlas = ExtResource("10_407k6")
region = Rect2(128, 98, 64, 98)

[sub_resource type="SpriteFrames" id="SpriteFrames_pewow"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_o8blo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d25fl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4rhbc")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c8kd1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_so6we")
}],
"loop": true,
"name": &"Idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_71np0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8ykek")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_iemub")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r1kkr")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7m6r1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gka40")
}],
"loop": false,
"name": &"UseHand",
"speed": 10.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_yh1ti"]
atlas = ExtResource("11_hk861")
region = Rect2(0, 0, 10, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_l3u51"]
atlas = ExtResource("11_hk861")
region = Rect2(10, 0, 10, 44)

[sub_resource type="SpriteFrames" id="SpriteFrames_6od6k"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_yh1ti")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l3u51")
}],
"loop": false,
"name": &"default",
"speed": 1.0
}]

[node name="Player" type="CharacterBody2D"]
motion_mode = 1
script = ExtResource("1_e8ulj")
SPEED = 600.0

[node name="AnalogInputViewer" parent="." instance=ExtResource("2_8w0kq")]
visible = false
position = Vector2(-128, -128)
scale = Vector2(1, 1)

[node name="LeftHand" type="MeshInstance2D" parent="."]
visible = false
modulate = Color(0.588235, 0.407843, 0.403922, 1)
z_index = 1
position = Vector2(0, -48)
scale = Vector2(7.5827, 7.35295)
mesh = SubResource("CapsuleMesh_jspig")

[node name="RightHand" type="MeshInstance2D" parent="."]
visible = false
modulate = Color(0.588235, 0.407843, 0.403922, 1)
z_index = 1
position = Vector2(-4.76837e-07, -80)
scale = Vector2(3.79135, 3.67648)
mesh = SubResource("CapsuleMesh_jspig")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_lqi6u")

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CURRENT_STATE")]
script = ExtResource("3_dp7qs")
CURRENT_STATE = NodePath("PlayerIdleState")

[node name="PlayerIdleState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_da6do")

[node name="PlayerWeaveState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("4_2ynra")

[node name="PlayerCastState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_2twro")

[node name="PlayerStunnedState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_oixna")

[node name="PlayerCommandState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("8_vl8hb")

[node name="SelectionArea" type="Area2D" parent="."]
visible = false
monitoring = false
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="SelectionArea"]
position = Vector2(328, -88)
rotation = 1.5708
shape = SubResource("CapsuleShape2D_f4isr")

[node name="HandOrigin" type="Marker2D" parent="."]
position = Vector2(0, -80)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(-9.53674e-07, -64)
scale = Vector2(1.375, 1.375)
sprite_frames = SubResource("SpriteFrames_pewow")
animation = &"Idle"
autoplay = "Idle"

[node name="AnimatedHand" type="AnimatedSprite2D" parent="."]
visible = false
position = Vector2(11, -79)
rotation = -0.00104892
scale = Vector2(1.85, 1.85)
sprite_frames = SubResource("SpriteFrames_6od6k")
frame_progress = 0.678781
offset = Vector2(0, 16.1383)
